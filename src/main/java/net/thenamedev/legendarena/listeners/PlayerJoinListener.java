package net.thenamedev.legendarena.listeners;import net.thenamedev.legendarena.core.*;import net.thenamedev.legendarena.extras.staffchat.*;import net.thenamedev.legendarena.utils.*;import org.bukkit.*;import org.bukkit.entity.*;import org.bukkit.event.*;import org.bukkit.event.player.*;import org.bukkit.event.player.PlayerLoginEvent.*;import org.jetbrains.annotations.*;/** * @author TheNameMan */public class PlayerJoinListener implements Listener {    @EventHandler(priority = EventPriority.HIGHEST)    public void playerJoin(@NotNull PlayerJoinEvent ev) {        if(LegendArena.debugSwitch)            ChatUtils.broadcast(ChatColor.RED + "DEBUG MODE IS ON! THIS SETTING SHOULD NOT BE TRUE IN PRODUCTION! If this is production, DISABLE THE PLUGIN, FIX IT, AND RE-ENABLE IT AFTER THE NEW JAR IS ADDED.", Rank.Dev);        ev.setJoinMessage(ChatColor.GRAY + "{" + ChatColor.GREEN + "+" + ChatColor.GRAY + "} " + Rank.getFormattedName(ev.getPlayer()));        if(!ev.getPlayer().hasPlayedBefore()) {            ev.getPlayer().sendMessage(PluginUtils.msgNormal + "Welcome to Legend Arena, " + ev.getPlayer().getPlayerListName() + ". Do " + ChatColor.DARK_PURPLE + "/warp" + ChatColor.GREEN + " to get around the server.");            ChatUtils.shootFireworks(ev.getPlayer());            ChatUtils.shootFireworks(ev.getPlayer());        }        if(NoticeUtils.isCloseToBFTN())            ev.getPlayer().sendMessage(ChatColor.RED + "It's getting close to when the FCC votes to either break or save Net Neutrality. Ask your local (for-cable) senator here {or, feel free to ask a Key Person that's for-cable}: https://www.battleforthenet.com/scoreboard/");    }    @EventHandler(priority = EventPriority.HIGH)    public void playerLeave(@NotNull PlayerQuitEvent ev) {        ev.setQuitMessage(ChatColor.GRAY + "{" + ChatColor.RED + "-" + ChatColor.GRAY + "} " + Rank.getFormattedName(ev.getPlayer()));        SCType.clearStaffchat(ev.getPlayer().getUniqueId());    }    @EventHandler(priority = EventPriority.HIGHEST)    public void playerLogin(@NotNull PlayerLoginEvent ev) {        Player p = ev.getPlayer();        if(ev.getPlayer().getName().contains(" ")) {            ev.disallow(Result.KICK_OTHER, "Invalid username. (try changing your name to something without a space?)"); //filter them out due to their name having a space in it, to keep them from bypassing commands (somehow)            StaffChat.notice(ChatColor.RED + "Player \"" + p.getName() + "\" tried to join with an invalid name (space in name).", "Join Filter"); //let online staff now that it was filtered        }    }}