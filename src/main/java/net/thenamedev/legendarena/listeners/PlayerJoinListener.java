package net.thenamedev.legendarena.listeners;import net.thenamedev.legendapi.LegendAPI;import net.thenamedev.legendapi.utils.ChatUtils;import net.thenamedev.legendapi.utils.Day;import net.thenamedev.legendapi.utils.PluginUtils;import net.thenamedev.legendapi.utils.Rank;import net.thenamedev.legendarena.extras.staffchat.SCType;import org.bukkit.ChatColor;import org.bukkit.event.EventHandler;import org.bukkit.event.EventPriority;import org.bukkit.event.Listener;import org.bukkit.event.player.PlayerJoinEvent;import org.bukkit.event.player.PlayerQuitEvent;import java.util.Calendar;import java.util.Random;/** * @author ThePixelDev */public class PlayerJoinListener implements Listener {    @EventHandler(priority = EventPriority.HIGHEST)    public void playerJoin(PlayerJoinEvent ev) {        ev.setJoinMessage(ChatColor.GRAY + "[" + ChatColor.GREEN + "+" + ChatColor.GRAY + "] " + Rank.getFormattedName(ev.getPlayer()));        if(LegendAPI.extraDebug && Rank.isRanked(ev.getPlayer(), Rank.FOUNDER))            ev.getPlayer().sendMessage(PluginUtils.msgDebug + "Set join message...");        if(Day.getDate().getDay() == 3 && Day.getDate().getMonth() == Day.MAY && ev.getPlayer().getName().equals("ThePixelDev"))            ChatUtils.broadcast(PluginUtils.msgNormal + "Happy birthday, Pixel!");        if(Day.getDate().isAprilFools()) {            Random r = new Random();            int a = r.nextInt(100);            if(a == 50)                ev.getPlayer().kickPlayer("Error: Cannot divide by 0"); //love, Pixel <3            else if(LegendAPI.debugInfo.isExtraDebugOn() && Rank.isRanked(ev.getPlayer(), Rank.FOUNDER))                ev.getPlayer().sendMessage(PluginUtils.msgDebug + "RNG number; " + a);        }    }    @EventHandler(priority = EventPriority.HIGH)    public void playerLeave(PlayerQuitEvent ev) {        ev.setQuitMessage(ChatColor.GRAY + "[" + ChatColor.RED + "-" + ChatColor.GRAY + "] " + Rank.getFormattedName(ev.getPlayer()));        SCType.clearStaffchat(ev.getPlayer().getUniqueId());    }}