package net.thenamedev.legendarena.listeners;import net.thenamedev.legendapi.core.chat.ChatSystem;import net.thenamedev.legendapi.core.emeralds.EmeraldsCore;import net.thenamedev.legendapi.utils.ChatUtils;import net.thenamedev.legendapi.utils.Day;import org.bukkit.Bukkit;import org.bukkit.ChatColor;import org.bukkit.event.EventHandler;import org.bukkit.event.EventPriority;import org.bukkit.event.Listener;import org.bukkit.event.player.PlayerJoinEvent;import org.bukkit.event.player.PlayerQuitEvent;/** * @author ThePixelDev */public class PlayerJoinListener implements Listener {    @EventHandler(priority = EventPriority.HIGHEST)    public void playerJoin(PlayerJoinEvent ev) {        if(!ev.getPlayer().hasPlayedBefore()) {            //fix iConomy giving 30 emeralds to players            if(Bukkit.getPluginManager().getPlugin("iConomy") != null) {                EmeraldsCore.resetEmeralds(ev.getPlayer(), false, "iConomy Fixer");                EmeraldsCore.resetEmeralds(ev.getPlayer(), false, "iConomy Fixer");                Bukkit.getLogger().info("Fixed emeralds for " + ev.getPlayer().getName() + ".");            }        }        ev.setJoinMessage(ChatColor.GRAY + "[" + ChatColor.GREEN + "+" + ChatColor.GRAY + "] " + ChatUtils.getFormattedName(ev.getPlayer()));        //TODO: Sidebar of magics    }    @EventHandler(priority = EventPriority.HIGH)    public void playerLeave(PlayerQuitEvent ev) {        ev.setQuitMessage(ChatColor.GRAY + "[" + ChatColor.RED + "-" + ChatColor.GRAY + "] " + ChatUtils.getFormattedName(ev.getPlayer()));        ChatSystem.remove(ev.getPlayer());    }}