package net.thenamedev.legendarena.commands.staff;import net.thenamedev.legendapi.utils.ChatUtils;import net.thenamedev.legendapi.utils.PluginUtils;import net.thenamedev.legendapi.utils.Rank;import net.thenamedev.legendarena.extras.staffchat.SCType;import net.thenamedev.legendarena.extras.staffchat.StaffChat;import org.bukkit.Bukkit;import org.bukkit.ChatColor;import org.bukkit.command.Command;import org.bukkit.command.CommandExecutor;import org.bukkit.command.CommandSender;import org.bukkit.entity.Player;/** * @author TheNameMan */public class Chat implements CommandExecutor {    private static void run(CommandSender sender, String[] args) {        if(args.length == 0) {            sender.sendMessage(                            (Rank.isRanked(sender, Rank.ADMIN) ? ChatColor.GREEN + "• ADMIN" : ChatColor.RED + "• ADMIN")                            + '\n'                            + (Rank.isRanked(sender, Rank.MOD) ? ChatColor.GREEN + "• MOD" : ChatColor.RED + "• MOD")                            + '\n'                            + (Rank.isRanked(sender, Rank.HELPER) ? ChatColor.GREEN + "• STAFF" : ChatColor.RED + "• STAFF")                            + '\n'                            + (Rank.isRanked(sender, Rank.HELPER) ? ChatColor.GREEN + "• ALERT" : ChatColor.RED + "• ALERT")                            + '\n'                            + (Rank.isRanked(sender, Rank.HELPER) ? ChatColor.GREEN + "• HELPER" : ChatColor.RED + "• HELPER")                            + '\n'                            + ChatColor.GREEN + "• SHOW [on|off]"                            + '\n'                            + (Rank.isRanked(sender, Rank.MOD) ? ChatColor.GREEN + "• OFF [user]" : ChatColor.GREEN + "• OFF")                            + '\n'                            + ChatColor.YELLOW + "Current channel: " + ChatColor.BLUE + SCType.getType(((Player) sender).getUniqueId())            );        } else {            if(args[0].equalsIgnoreCase("admin")) {                if(!Rank.isRanked(sender, Rank.ADMIN)) {                    sender.sendMessage(Rank.noPermissions(Rank.ADMIN));                    return;                }                if(args.length == 1) {                    if(SCType.hasStaffchat(((Player) sender).getUniqueId(), SCType.GM)) {                        SCType.clearStaffchat(((Player) sender).getUniqueId());                        sender.sendMessage(PluginUtils.msgNormal + "Left ADMIN chat.");                    } else {                        SCType.addUser(((Player) sender).getUniqueId(), SCType.GM);                        sender.sendMessage(PluginUtils.msgNormal + "Joined ADMIN chat.");                    }                } else {                    StaffChat.staffChat(SCType.GM, (Player) sender, ChatUtils.formatCast(args, 0));                }            } else if(args[0].equalsIgnoreCase("notify")) {                if(!Rank.isRanked(sender, Rank.FOUNDER)) {                    sender.sendMessage(Rank.noPermissions(Rank.FOUNDER));                    return;                }                if(args.length == 1) {                    if(SCType.hasStaffchat(((Player) sender).getUniqueId(), SCType.NOTIFICATION)) {                        SCType.clearStaffchat(((Player) sender).getUniqueId());                        sender.sendMessage(PluginUtils.msgNormal + "Stopped broadcasting notifications.");                    } else {                        SCType.addUser(((Player) sender).getUniqueId(), SCType.NOTIFICATION);                        sender.sendMessage(PluginUtils.msgNormal + "Started broadcasting notifications.");                    }                } else {                    sender.sendMessage(ChatColor.BLUE + "What about no?");                }            } else if(args[0].equalsIgnoreCase("mod")) {                if(!Rank.isRanked(sender, Rank.MOD)) {                    sender.sendMessage(Rank.noPermissions(Rank.MOD));                    return;                }                if(args.length == 1) {                    if(SCType.hasStaffchat(((Player) sender).getUniqueId(), SCType.MOD)) {                        SCType.clearStaffchat(((Player) sender).getUniqueId());                        sender.sendMessage(PluginUtils.msgNormal + "Left MOD chat.");                    } else {                        SCType.addUser(((Player) sender).getUniqueId(), SCType.MOD);                        sender.sendMessage(PluginUtils.msgNormal + "Joined MOD chat.");                    }                } else {                    StaffChat.staffChat(SCType.MOD, (Player) sender, ChatUtils.formatCast(args, 0));                }            } else if(args[0].equalsIgnoreCase("staff")) {                if(!Rank.isRanked(sender, Rank.HELPER)) {                    sender.sendMessage(Rank.noPermissions(Rank.HELPER));                    return;                }                if(args.length == 1) {                    if(SCType.hasStaffchat(((Player) sender).getUniqueId(), SCType.STAFF)) {                        SCType.clearStaffchat(((Player) sender).getUniqueId());                        sender.sendMessage(PluginUtils.msgNormal + "Left STAFF chat.");                    } else {                        SCType.addUser(((Player) sender).getUniqueId(), SCType.STAFF);                        sender.sendMessage(PluginUtils.msgNormal + "Joined STAFF chat.");                    }                } else {                    StaffChat.staffChat(SCType.STAFF, (Player) sender, ChatUtils.formatCast(args, 0));                }            } else if(args[0].equalsIgnoreCase("alert")) {                if(!Rank.isRanked(sender, Rank.HELPER)) {                    sender.sendMessage(Rank.noPermissions(Rank.HELPER));                    return;                }                if(args.length == 1) {                    if(SCType.hasStaffchat(((Player) sender).getUniqueId(), SCType.ALERT)) {                        SCType.clearStaffchat(((Player) sender).getUniqueId());                        sender.sendMessage(PluginUtils.msgNormal + "Stopped broadcasting alerts.");                    } else {                        SCType.addUser(((Player) sender).getUniqueId(), SCType.ALERT);                        sender.sendMessage(PluginUtils.msgNormal + "Started broadcasting alerts.");                    }                } else {                    StaffChat.staffChat(SCType.ALERT, (Player) sender, ChatUtils.formatCast(args, 0));                }            } else if(args[1].equalsIgnoreCase("helper")) {                if(!Rank.isRanked(sender, Rank.HELPER)) {                    sender.sendMessage(Rank.noPermissions(Rank.HELPER));                    return;                }                if(args.length == 2) {                    if(SCType.hasStaffchat(((Player) sender).getUniqueId(), SCType.HELPER)) {                        SCType.clearStaffchat(((Player) sender).getUniqueId());                        sender.sendMessage(PluginUtils.msgNormal + "Left HELPER chat.");                    } else {                        SCType.addUser(((Player) sender).getUniqueId(), SCType.HELPER);                        sender.sendMessage(PluginUtils.msgNormal + "Joined HELPER chat.");                    }                } else {                    StaffChat.staffChat(SCType.HELPER, (Player) sender, ChatUtils.formatCast(args, 0));                }            } else if(args[0].equalsIgnoreCase("show")) {                if(!SCType.canSeeStaffchat(((Player) sender).getUniqueId())) {                    SCType.setCanSeeStaffchat(((Player) sender).getUniqueId(), true);                    sender.sendMessage(PluginUtils.msgNormal + "Toggled channel view on.");                } else {                    SCType.setCanSeeStaffchat(((Player) sender).getUniqueId(), false);                    SCType.clearStaffchat(((Player) sender).getUniqueId());                    sender.sendMessage(PluginUtils.msgNormal + "Toggled channel view off.");                }            } else if(args[1].equalsIgnoreCase("off")) {                if(args.length == 1) {                    SCType.clearStaffchat(((Player) sender).getUniqueId());                    sender.sendMessage(PluginUtils.msgNormal + "Left all channels.");                } else if(args.length >= 2) {                    SCType.clearStaffchat(((Player) sender).getUniqueId());                    sender.sendMessage(PluginUtils.msgNormal + "Left all channels.");                } else {                    if(!Rank.isRanked(sender, Rank.MOD)) {                        SCType.clearStaffchat(((Player) sender).getUniqueId());                        sender.sendMessage(PluginUtils.msgNormal + "Left all channels.");                        return;                    }                    if(Bukkit.getPlayer(args[1]) == null)                        sender.sendMessage(ChatColor.RED + "That player was not found!");                    else {                        SCType.clearStaffchat(Bukkit.getPlayer(args[1]).getUniqueId());                        sender.sendMessage(PluginUtils.msgNormal + ChatColor.YELLOW + "Forced player " + ChatColor.RED + Bukkit.getPlayer(args[1]).getName() + ChatColor.YELLOW + " to leave all channels.");                        Bukkit.getPlayer(args[1]).sendMessage(PluginUtils.msgNormal + ChatColor.RED + "Forced to leave all channels by staff member " + sender.getName() + ".");                    }                }            } else {                sender.sendMessage(                        (Rank.isRanked(sender, Rank.ADMIN) ? ChatColor.GREEN + "• ADMIN" : ChatColor.RED + "• ADMIN")                                + '\n'                                + (Rank.isRanked(sender, Rank.MOD) ? ChatColor.GREEN + "• MOD" : ChatColor.RED + "• MOD")                                + '\n'                                + (Rank.isRanked(sender, Rank.HELPER) ? ChatColor.GREEN + "• STAFF" : ChatColor.RED + "• STAFF")                                + '\n'                                + (Rank.isRanked(sender, Rank.HELPER) ? ChatColor.GREEN + "• ALERT" : ChatColor.RED + "• ALERT")                                + '\n'                                + (Rank.isRanked(sender, Rank.HELPER) ? ChatColor.GREEN + "• HELPER" : ChatColor.RED + "• HELPER")                                + '\n'                                + ChatColor.GREEN + "• SHOW [on|off]"                                + '\n'                                + (Rank.isRanked(sender, Rank.MOD) ? ChatColor.GREEN + "• OFF [user]" : ChatColor.GREEN + "• OFF")                                + '\n'                                + ChatColor.YELLOW + "Current channel: " + ChatColor.BLUE + SCType.getType(((Player) sender).getUniqueId())                );            }        }    }    public boolean onCommand(CommandSender commandSender, Command command, String s, String[] strings) {        run(commandSender, strings);        return true;    }}