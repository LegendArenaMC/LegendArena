package net.thenamedev.legendarena.commands.staff;import net.thenamedev.legendapi.core.chat.ChatSystem;import net.thenamedev.legendapi.utils.ChatUtils;import net.thenamedev.legendapi.utils.PluginUtils;import net.thenamedev.legendarena.commands.Help;import net.thenamedev.legendapi.utils.ActionBarAPI;import net.thenamedev.legendarena.extras.menu.staff.ChatMenu;import org.bukkit.ChatColor;import org.bukkit.command.Command;import org.bukkit.command.CommandExecutor;import org.bukkit.command.CommandSender;import org.bukkit.entity.Player;/** * @author TheNameMan */public class Chat implements CommandExecutor {    private void run(CommandSender sender, String[] args) {        if(args.length == 0) {            sender.sendMessage(Help.getFormattedHeader("Chat System"));            sender.sendMessage(Help.getFormattedHelpMsg("/chat off", "Exits any special chats and enters global chat"));            sender.sendMessage(Help.getFormattedHelpMsg("/chat admin", "Enters ADMIN chat."));            sender.sendMessage(Help.getFormattedHelpMsg("/chat alert", "Enters ALERT chat."));            sender.sendMessage(Help.getFormattedHelpMsg("/chat staff", "Enters STAFF chat."));            return;        }        if(args[0].equalsIgnoreCase("off")) {            ActionBarAPI.sendActionBar((Player) sender, PluginUtils.msgNormal + "Entered " + ChatColor.RED + "GLOBAL" + ChatColor.LIGHT_PURPLE + " chat.");            //sender.sendMessage(PluginUtils.msgNormal + "Entered " + ChatColor.RED + "GLOBAL" + ChatColor.LIGHT_PURPLE + " chat.");            ChatSystem.remove((Player) sender);        } else if(args[0].equalsIgnoreCase("alert")) {            if(args.length == 1) {                ActionBarAPI.sendActionBar((Player) sender, PluginUtils.msgNormal + "Entered " + ChatColor.RED + "ALERT" + ChatColor.LIGHT_PURPLE + " chat.");                ChatSystem.add((Player) sender, ChatSystem.Channel.ALERT);            } else {                String cast = ChatUtils.formatCast(args, 0);                Player p = (Player) sender;                ChatSystem.Channel oldChannel = ChatSystem.getChannel(p);                ChatSystem.add(p, ChatSystem.Channel.ALERT);                ChatSystem.msg(p, cast);                if(oldChannel == null)                    ChatSystem.remove(p);                else                    ChatSystem.add(p, oldChannel);            }        } else if(args[0].equalsIgnoreCase("admin")) {            if(args.length == 1) {                ActionBarAPI.sendActionBar((Player) sender, PluginUtils.msgNormal + "Entered " + ChatColor.RED + "ADMIN" + ChatColor.LIGHT_PURPLE + " chat.");                ChatSystem.add((Player) sender, ChatSystem.Channel.ADMIN);            } else {                String cast = ChatUtils.formatCast(args, 0);                Player p = (Player) sender;                ChatSystem.Channel oldChannel = ChatSystem.getChannel(p);                ChatSystem.add(p, ChatSystem.Channel.ADMIN);                ChatSystem.msg(p, cast);                if(oldChannel == null)                    ChatSystem.remove(p);                else                    ChatSystem.add(p, oldChannel);            }        } else if(args[0].equalsIgnoreCase("staff")) {            if(args.length == 1) {                ActionBarAPI.sendActionBar((Player) sender, PluginUtils.msgNormal + "Entered " + ChatColor.RED + "STAFF" + ChatColor.LIGHT_PURPLE + " chat.");                ChatSystem.add((Player) sender, ChatSystem.Channel.STAFF);            } else {                String cast = ChatUtils.formatCast(args, 0);                Player p = (Player) sender;                ChatSystem.Channel oldChannel = ChatSystem.getChannel(p);                ChatSystem.add(p, ChatSystem.Channel.STAFF);                ChatSystem.msg(p, cast);                if(oldChannel == null)                    ChatSystem.remove(p);                else                    ChatSystem.add(p, oldChannel);            }        }        else if(args[0].equalsIgnoreCase("menu")) {            ChatMenu.show((Player) sender);        }        else {            sender.sendMessage(Help.getFormattedHeader("Chat System"));            sender.sendMessage(Help.getFormattedHelpMsg("/chat off", "Exits any special chats and enters global chat"));            sender.sendMessage(Help.getFormattedHelpMsg("/chat admin", "Enters ADMIN chat."));            sender.sendMessage(Help.getFormattedHelpMsg("/chat alert", "Enters ALERT chat."));            sender.sendMessage(Help.getFormattedHelpMsg("/chat staff", "Enters STAFF chat."));        }    }    public boolean onCommand(CommandSender commandSender, Command command, String s, String[] strings) {        run(commandSender, strings);        return true;    }}